<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <title>Panel Admin | Louis Editing</title>
    <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="bg-gray-950 text-white font-sans">
    <div class="flex h-screen">
        <aside class="w-64 bg-purple-900/20 border-r border-purple-500/20 p-6">
            <h2 class="text-xl font-black mb-10 tracking-tighter text-purple-500">ADMIN CONTROL</h2>
            <nav class="space-y-4">
                <div class="text-xs font-bold text-gray-500 uppercase tracking-widest mb-2">Gestion</div>
                <a href="#" class="block p-3 bg-purple-600 rounded-lg font-bold text-sm">üìã Toutes les commandes</a>
                <a href="index" class="block p-3 hover:bg-gray-800 rounded-lg text-sm text-gray-400">üè† Retour au site</a>
            </nav>
        </aside>

        <main class="flex-1 p-10 overflow-y-auto">
            <div class="flex justify-between items-center mb-10">
                <h1 class="text-3xl font-black uppercase italic">Dashboard Admin</h1>
                <button onclick="clearAll()" class="text-xs bg-red-600/10 text-red-500 border border-red-500/20 px-4 py-2 rounded hover:bg-red-600 hover:text-white transition">Effacer tout</button>
            </div>

            <div class="bg-gray-900 rounded-3xl border border-gray-800 overflow-hidden shadow-2xl">
                <table class="w-full text-left">
                    <thead class="bg-gray-800 text-gray-400 text-[10px] uppercase tracking-widest">
                        <tr>
                            <th class="p-6">Client / Contact</th>
                            <th class="p-6">Type de Projet</th>
                            <th class="p-6">Lien Rushes</th>
                            <th class="p-6">Statut</th>
                            <th class="p-6">Action</th>
                        </tr>
                    </thead>
                    <tbody id="admin-orders-list">
                        </tbody>
                </table>
            </div>
        </main>
    </div>

    <script>
        function loadAdminOrders() {
            const list = document.getElementById('admin-orders-list');
            let orders = JSON.parse(localStorage.getItem('louisEditingOrders')) || [];
            list.innerHTML = '';

            if (orders.length === 0) {
                list.innerHTML = '<tr><td colspan="5" class="p-10 text-center text-gray-600">Aucune commande re√ßue pour le moment.</td></tr>';
                return;
            }

            orders.forEach((order, index) => {
                list.innerHTML += `
                    <tr class="border-t border-gray-800 hover:bg-gray-800/50 transition">
                        <td class="p-6 font-bold text-purple-400">${order.user}</td>
                        <td class="p-6 text-sm">${order.name}</td>
                        <td class="p-6">
                            <a href="${order.rushs}" target="_blank" class="text-blue-400 underline text-xs">Ouvrir les Rushs</a>
                        </td>
                        <td class="p-6">
                            <span class="bg-gray-700 text-[10px] px-2 py-1 rounded-full uppercase font-black">${order.status}</span>
                        </td>
                        <td class="p-6 space-x-2">
                            <button onclick="updateStatus(${index}, 'üé¨ En cours')" class="text-[10px] bg-blue-600 px-2 py-1 rounded hover:bg-blue-500">Montage</button>
                            <button onclick="updateStatus(${index}, '‚úÖ Termin√©')" class="text-[10px] bg-green-600 px-2 py-1 rounded hover:bg-green-500">Finir</button>
                        </td>
                    </tr>
                `;
            });
        }

        function updateStatus(index, newStatus) {
            let orders = JSON.parse(localStorage.getItem('louisEditingOrders'));
            orders[index].status = newStatus;
            localStorage.setItem('louisEditingOrders', JSON.stringify(orders));
            loadAdminOrders();
        }

        function clearAll() {
            if(confirm("Supprimer toutes les commandes ?")) {
                localStorage.removeItem('louisEditingOrders');
                loadAdminOrders();
            }
        }

        window.onload = loadAdminOrders;
    </script>
</body>
</html>
